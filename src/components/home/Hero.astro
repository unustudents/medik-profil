---
const images = [
    "https://lh3.googleusercontent.com/aida-public/AB6AXuCYeTvbISu54ik2pcZ25iA6gI8MC-PoX9w_5MOeAd3dFbGirygNFrSxWNvJc9zE27P5FO1hkl1dQDeGVvDESKLsiqvacK_UsNinPXOIdO5PFYxBTvj5AxqV4kW2UOyrwTBTdq7t2aMccKK8hQpR4ANfDYMK7_KDZr6PRFNItmCxhAbR9SfRvwnLjhtiFgRhY9kRw-pl6ZD-lVoQ0dSxKGFbZxgsRcp2aK08d5Pf3nCtKccdT38hr3NDXNTHuOXvRt8PHdQfRnljQMg",
    "https://lh3.googleusercontent.com/aida-public/AB6AXuBeI2yNA_EdmwyZ_axwnNB0JaEGMzJQDYTgMiKHQoTOxTviV6uohVi2Mwdx26VVTzth0-vuVI40EDs1g0L9j5iBhsMfXdlGJ6JP3QTa8HaQStq4FYZIx-_BiM6L18mxVG2b8L1bueHmRWztCZ3-0Bh09NAJB-Y0aIs8Hipd9qg6pgjOmwU4mdrywZqB4ZVAodUOilpXMKA0U0JnA3b4exTv_O1LB1OmsHEd5KW2vRnm0oGsw2IcxJleYXKEiQdhyBFIop8ieuOoVgs",
    "https://lh3.googleusercontent.com/aida-public/AB6AXuCC1KUdrr8n3U5L7Y2Wje2AUjLI7VSwsQSARdfBZOzMdhc6O0n30fzfc0iLbibHag57HPXmgnzay2Y7B8CEMLOQ25LlcOcgrgkASqXOd-uL6kxqYQls4sTjn8UcFsYnSt4ljwxXjnILNPI6IXsjrj9akek86wToyyKnLoD5PalVI2Hn2wVyAE0oVBdU4L19kNzgMa8yhMa86tA_IlahGr1jbs61BcvGhGrqvO07YJKaJQFPcsPNZRyHiJpSmw9jrwYZZ-F_jWK0ApE",
];
---

<section class="relative h-[500px] overflow-hidden group">
    {
        images.map((img, index) => (
            <img
                alt={`Hero Image ${index + 1}`}
                class={`w-full h-full object-cover absolute inset-0 transition-opacity duration-1000 ${index === 0 ? "opacity-100" : "opacity-0"}`}
                src={img}
                data-hero-image
                data-index={index}
            />
        ))
    }
    <div class="absolute inset-0 hero-gradient"></div>

    <div class="absolute inset-0 flex items-center justify-center">
        <div class="flex space-x-2 z-10">
            {
                images.map((_, index) => (
                    <button
                        class={`w-3 h-3 rounded-full transition-all duration-300 ${index === 0 ? "bg-white scale-125" : "border-2 border-white bg-transparent"}`}
                        data-hero-indicator
                        data-index={index}
                        aria-label={`Go to slide ${index + 1}`}
                    />
                ))
            }
        </div>
    </div>
</section>

<script>
    const images = document.querySelectorAll("[data-hero-image]");
    const indicators = document.querySelectorAll("[data-hero-indicator]");
    let currentIndex = 0;
    const totalImages = images.length;
    const INTERVAL = 10000; // 10000 = 10 seconds

    function updateSlider(index: number) {
        // Update images
        images.forEach((img, i) => {
            if (i === index) {
                img.classList.remove("opacity-0");
                img.classList.add("opacity-100");
            } else {
                img.classList.remove("opacity-100");
                img.classList.add("opacity-0");
            }
        });

        // Update indicators
        indicators.forEach((ind, i) => {
            if (i === index) {
                ind.classList.remove("border-2", "bg-transparent");
                ind.classList.add("bg-white", "scale-125");
            } else {
                ind.classList.remove("bg-white", "scale-125");
                ind.classList.add("border-2", "border-white", "bg-transparent");
            }
        });

        currentIndex = index;
    }

    function nextSlide() {
        const nextIndex = (currentIndex + 1) % totalImages;
        updateSlider(nextIndex);
    }

    let slideInterval = setInterval(nextSlide, INTERVAL);

    // Optional: Pause on manual interaction (if buttons were interactive for click)
    indicators.forEach((btn) => {
        btn.addEventListener("click", (e) => {
            const index = parseInt(
                (e.target as HTMLElement).dataset.index || "0",
            );
            updateSlider(index);
            clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, INTERVAL);
        });
    });
</script>
